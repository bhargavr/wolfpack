<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src="resources/js/amcharts.js"></script>
    <script src="resources/js/serial.js"></script>
        <script type="text/javascript">
        </script>

    <title>Hygiea4u</title>

    <!-- Bootstrap Core CSS -->
    <link href="resources/css/bootstrap2.css" rel="stylesheet" />
	
    <!-- Custom styles for this template -->
    <link href="resources/css/home.css" rel="stylesheet" />
	<!-- JavaScript -->
   <script src='resources/js/jquery-1.11.0.js' type="text/javascript"></script>
    <script src='resources/js/bootstrap.js' type="text/javascript"></script>
   
  <script>
  	$(document).ready(function(){
	  $.ajax({
          url : '/getRewards',
          success : function(data) {
        	  alert(JSON.stringify(data));
          }
      });
	  
 	 }
    
    function createReward(){
    	var reward = {};
    	reward["sku"] = $("#rewardsku").val();
    	reward["name"] = $("#rewardname").val();
    	reward["points"] = $("#rewardpoints").val();
    	reward["path"] = $("#rewardpath").val();
    	reward["retailer"] = $("#rewardretailer").val();
    	reward["expiration"] = $("#rewardexpiration").val();
    	alert(JSON.stringify(reward));
    	var rewardstring = JSON.stringify(reward);
    	
    	$.ajax({
            url:"/createNewReward",
            type:"POST", 
            contentType: "application/json; charset=utf-8",
            dataType: "text",
            data: rewardstring, //Stringified Json Object
            cache: false,    //This will force requested pages not to be cached by the browser  
            processData:false, //To avoid making query String instead of JSON
            success: function(data){
            	alert("Success");
        	}
        });
    }
  
  </script>
  </head>

  <body>
    <div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
        <!--  <img src="images/ehr.png" alt="my ehr" /> -->
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a th:href="@{/home}">Home</a></li>
            <li><a th:href="@{/personalRewards}">Personal Rewards</a></li>
            <li><a th:href="@{/registerDevice}">Register Device</a></li>
            <li><a th:href="@{/GetRewardsCatalog}">Rewards</a></li>
            <li><a th:href="@{/CreateReward}">Create Reward</a></li>
            <li><a th:href="@{/logout}">SignOut</a></li>
          </ul>
        </div><!-- /.nav-collapse -->
      </div><!-- /.container -->
    </div><!-- /.navbar -->

    <div class="container">

     <div class="row offset2">
        <form class="form-horizontal">
			<fieldset>
			
			<!-- Form Name -->
			<legend>Add Reward</legend>
			
			<!-- Text input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="rewardsku">SKU</label>  
			  <div class="col-md-5">
			  <input id="rewardsku" name="rewardsku" type="text" placeholder="SKU #" class="form-control input-md"></input>
			    
			  </div>
			</div>
			
			<!-- Text input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="rewardname">Name</label>  
			  <div class="col-md-5">
			  <input id="rewardname" name="Name" type="text" placeholder="Reward Name" class="form-control input-md"></input>
			    
			  </div>
			</div>
			
			<!-- Text input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="rewardpoints">Points</label>  
			  <div class="col-md-5">
			  <input id="rewardpoints" name="rewardprice" type="text" placeholder="Reward Points" class="form-control input-md"></input>
			    
			  </div>
			</div>
			
			<!-- Text input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="rewardpath">Image Path</label>  
			  <div class="col-md-5">
			  <input id="rewardpath" name="rewardpath" type="text" placeholder="Image Directory Path" class="form-control input-md"></input>
			    
			  </div>
			</div>
			
			<!-- Text input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="rewardretailer">Retailer</label>  
			  <div class="col-md-5">
			  <input id="rewardretailer" name="rewardretailer" type="text" placeholder="Company Name" class="form-control input-md"></input>
			    
			  </div>
			</div>
			
			<!-- Text input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="rewardexpiration">Expiration</label>  
			  <div class="col-md-5">
			  <input id="rewardexpiration" name="rewardexpiration" type="text" placeholder="Reward Expiration" class="form-control input-md">
			    </input>
			  </div>
			</div>
			
			<!-- Button -->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="rewardsubmit"></label>
			  <div class="col-md-4">
			    <button id="rewardsubmit" name="rewardsubmit" class="btn btn-success" onclick="createReward()">Create</button>
			  </div>
			</div>
			
			</fieldset>
		</form>
		</div>
     	<footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Hygiea4U 2014</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>

    </div><!--/.container-->



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery Version 1.11.0 -->
    <script src="resources/js/jquery-1.11.0.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="resources/js/bootstrap.min.js"></script>
  </body>
</html>
